<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday! üéÇ</title>
  <meta name="description" content="Surprise ulang tahun sederhana‚Äîdibuat dengan cinta üíñ" />
  <style>
    :root{
      --bg:#0f172a;          /* slate-900 */
      --card:#111827ee;      /* gray-900 */
      --text:#e5e7eb;        /* gray-200 */
      --accent:#f472b6;      /* pink-400 */
      --accent-2:#60a5fa;    /* blue-400 */
      --muted:#94a3b8;       /* slate-400 */
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans"; background: radial-gradient(1200px 800px at 20% 10%, #1f2937, transparent),
               radial-gradient(1000px 800px at 80% 20%, #0b1226, transparent),
               radial-gradient(1000px 1000px at 50% 100%, #0b1226, #0a0f1f); color:var(--text)}
    .container{max-width:980px;margin:0 auto;padding:24px}
    .card{background:linear-gradient(180deg, #0b1324, #0a0f1f);border:1px solid rgba(255,255,255,.06);box-shadow:0 20px 40px rgba(0,0,0,.45);border-radius:24px;padding:24px}
    .center{text-align:center}
    .row{display:flex;flex-wrap:wrap;gap:16px}
    .grow{flex:1 1 300px}
    .pill{display:inline-flex;gap:.5rem;align-items:center;padding:.4rem .8rem;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:var(--muted);font-size:.9rem}
    .title{font-size:clamp(28px, 3.2vw, 44px);line-height:1.1;margin:.2em 0}
    .subtitle{color:var(--muted);font-size:1.05rem;margin:.2em 0 1em}
    .btn{cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;padding:.8rem 1rem;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));color:var(--text);transition:.2s transform, .2s opacity}
    .btn:hover{transform:translateY(-1px)}
    .btn-primary{background:linear-gradient(180deg, var(--accent), var(--accent-2));color:#0b0f1a;border:none}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
    .imgwrap{position:relative;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.08)}
    .imgwrap img{display:block;width:100%;height:220px;object-fit:cover;filter:saturate(1.05) contrast(1.05)}
    .badge{position:absolute;inset:auto 8px 8px auto;background:rgba(0,0,0,.5);color:#fff;padding:.25rem .5rem;border-radius:10px;font-size:.8rem}
    .footer{opacity:.7;font-size:.9rem;margin:24px 0}
    .audio-ind{width:10px;height:10px;border-radius:50%;background:#ef4444;box-shadow:0 0 12px #ef4444}
    .hide{display:none}
    .count{font-variant-numeric: tabular-nums; font-size:clamp(18px, 2.2vw, 26px)}
    .heart{color:var(--accent)}
    .reveal{opacity:0;transform:translateY(10px);transition:.5s ease}
    .reveal.show{opacity:1;transform:none}
    canvas#confetti{position:fixed;inset:0;pointer-events:none}
    .divider{height:1px;background:linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);margin:20px 0}
    .note{font-size:.95rem;color:var(--muted)}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="container">
    <header class="card center">
      <span class="pill">üéÇ Surprise Ulang Tahun</span>
      <h1 class="title" id="heroTitle">Selamat Ulang Tahun, <span class="heart" id="targetName">Jeje</span>! ‚ú®</h1>
      <p class="subtitle" id="heroLine">Semoga semua doa baikmu terkabul. Terima kasih sudah lahir dan hadir. üí´</p>
      <div class="row center" style="justify-content:center;gap:12px;margin:14px 0 6px">
        <button class="btn btn-primary" id="btnPlay">‚ñ∂Ô∏è Putar Musik
          <span class="audio-ind hide" id="audioDot"></span>
        </button>
        <button class="btn" id="btnConfetti">üéä Semburkan Konfeti</button>
        <button class="btn" id="btnReveal">üéÅ Buka Kejutan</button>
      </div>

      <div id="countdown" class="count" aria-live="polite" style="margin-top:10px"></div>
      <p class="note">Tip: kirim link ini pas 00:00 WIB untuk efek maksimal üòâ</p>
    </header>

    <main class="row" style="margin-top:18px">
      <section class="card grow reveal" id="galleryCard">
        <h2 class="title" style="font-size:1.6rem">üì∏ Galeri Kenangan</h2>
        <div class="grid" id="gallery"></div>
      </section>

      <section class="card grow reveal" id="letterCard">
        <h2 class="title" style="font-size:1.6rem">üíå Surat Untukmu</h2>
        <p id="loveLetter" style="font-size:1.05rem;line-height:1.7"></p>
      </section>
    </main>

    <footer class="center footer">
      Dibuat dengan <span class="heart">‚ù§</span> oleh <span id="fromName">Rizky</span>.
    </footer>
  </div>

  <script>
    const CONFIG = {
      recipientName: 'Jeje',
      senderName: 'Rizky',
      eventDate: '2025-09-14T00:00:00+07:00',
      heroLine: 'Semoga semua doa baikmu terkabul. Terima kasih sudah lahir dan hadir. üí´',
      loveLetter: `
      Dear {{name}},
      
      Di antara jutaan bintang, kamu yang paling bersinar untukku. Tahun ini mungkin sederhana, tapi cintaku tidak pernah sederhana; ia tumbuh, memeluk, dan melindungi. Selamat ulang tahun ya, semoga bahagiamu selalu menular ke hidupku juga. 
      
      Peluk jauh,
      {{from}}
      `,
      songURL: 'https://cdn.pixabay.com/download/audio/2023/09/20/audio_5b7a1bcc7f.mp3?filename=cute-love-160576.mp3',
      photos: [
        {src:'https://i.ibb.co/TH5CqNZ/foto1.jpg', cap:'Tawa indah kamu'},
        {src:'https://i.ibb.co/9r3b6WQ/foto2.jpg', cap:'Moment pertama kali kita nonton bioskop'},
        {src:'https://i.ibb.co/2tqNRfV/foto3.jpg', cap:'I love you cantik'}
      ]
    };

    const $ = (q)=>document.querySelector(q);
    const fmt = (n)=> String(n).padStart(2,'0');

    function setText(id, text){ const el = typeof id==='string'? $(id): id; if(el) el.textContent = text; }

    setText('#targetName', CONFIG.recipientName);
    setText('#fromName', CONFIG.senderName);
    setText('#heroLine', CONFIG.heroLine);

    $('#loveLetter').innerText = CONFIG.loveLetter
      .replace(/\{\{name\}\}/g, CONFIG.recipientName)
      .replace(/\{\{from\}\}/g, CONFIG.senderName);

    const gal = $('#gallery');
    CONFIG.photos.forEach((p,i)=>{
      const wrap = document.createElement('figure');
      wrap.className='imgwrap reveal';
      wrap.innerHTML = `<img src="${p.src}" alt="Foto ${i+1}"><figcaption class="badge">${p.cap||''}</figcaption>`;
      gal.appendChild(wrap);
    });

    function updateCountdown(){
      const tgt = new Date(CONFIG.eventDate);
      const now = new Date();
      const diff = tgt - now;
      if(diff <= 0){ setText('#countdown', 'Hari ini harimu! üéâ'); return; }
      const d = Math.floor(diff/86400000);
      const h = Math.floor(diff%86400000/3600000);
      const m = Math.floor(diff%3600000/60000);
      const s = Math.floor(diff%60000/1000);
      setText('#countdown', `Hitung mundur: ${fmt(d)} hari ${fmt(h)}:${fmt(m)}:${fmt(s)}`);
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    let audio;
    const audioDot = $('#audioDot');
    $('#btnPlay').addEventListener('click',()=>{
      if(!audio){
        if(!CONFIG.songURL){alert('Belum ada lagu.');return}
        audio = new Audio(CONFIG.songURL);
        audio.loop = true;
      }
      if(audio.paused){audio.play(); audioDot.classList.remove('hide');}
      else{audio.pause(); audioDot.classList.add('hide');}
    });

    const canvas = $('#confetti');
    const ctx = canvas.getContext('2d');
    let W,H,parts=[]; function resize(){W=canvas.width=innerWidth; H=canvas.height=innerHeight}
    addEventListener('resize', resize); resize();
    function burst(x=W/2,y=H/2,count=180){
      for(let i=0;i<count;i++){
        parts.push({x,y, r:Math.random()*6+2, vx:(Math.random()-0.5)*6, vy:Math.random()*-6-2, a:1, rot:Math.random()*Math.PI, vr:(Math.random()-0.5)*0.3, hue: 200+Math.random()*120});
      }
    }
    function step(){
      ctx.clearRect(0,0,W,H);
      parts.forEach(p=>{
        p.vy += 0.12; p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.a -= 0.006;
        ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot);
        ctx.globalAlpha = Math.max(p.a,0);
        ctx.fillStyle = `hsl(${p.hue},90%,60%)`;
        ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r);
        ctx.restore();
      });
      parts = parts.filter(p=> p.a>0 && p.y<H+50);
      requestAnimationFrame(step);
    }
    step();
    $('#btnConfetti').addEventListener('click', (e)=>{ burst(e.clientX||W/2, e.clientY||H/2, 220); });

    function revealAll(){
      document.querySelectorAll('.reveal').forEach((el,i)=> setTimeout(()=> el.classList.add('show'), 80*i));
    }
    $('#btnReveal').addEventListener('click', revealAll);
    setTimeout(revealAll, 1200);
  </script>
</body>
</html>
